<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>tabs-animation1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.4/flowbite.min.css"  rel="stylesheet" />

  <!-- Tailwind CSS-->
  <link href="./css/style.css" rel="stylesheet" />

  <!-- Googel Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&Poppins:wght@400;700&display=swap" rel="stylesheet">
    
  <style>
.wrapper {
  width: min(60rem, 100% - 2rem);
  margin-inline: auto;
}

[role="tablist"] {
  position: relative;
  display: flex;
  width: fit-content;
  border-bottom: 1px solid hsl(0 0% 30%);
  margin-block: 3rem;
}

[role="tablist"]::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 4px;
  scale: var(--_width, 0.125) 1;
  translate: var(--_left, 0) 0;
  transform-origin: left;
  transition: scale 200ms, translate 200ms;
  background: #6D28D9;
}

[role="tab"] {
  padding: 1em 2em;
  text-transform: uppercase;
  opacity: 0.7;
  cursor: pointer;
}

[role="tab"]:hover {
  opacity: 1;
}

[role="tab"][aria-selected="true"] {
  opacity: 1;
}

  </style>

  </head>

<body class="font-display p-2 md:p-4 bg-gray-200">
    <!-- Tabs Animation 1 -->
    <section class="wrapper flex-nowrap overflow-x-auto w-full mx-auto rounded-xl shadow bg-white">
            <div class="text-base font-semibold text-gray-500 px-5 pt-3" role="tablist" aria-labelledby="channel-name">
              <button class="hover:text-violet-700" id="tab-1" role="tab" aria-controls="tabPanel-1" aria-selected="true" tabindex="0">Overview
              </button>
              <button class="hover:text-violet-700" id="tab-2" role="tab" aria-controls="tabPanel-2" aria-selected="false" tabindex="-1">Experience
              </button>
              <button class="hover:text-violet-700" id="tab-3" role="tab" aria-controls="tabPanel-3" aria-selected="false" tabindex="-1">Services
              </button>
              <button class="hover:text-violet-700" id="tab-4" role="tab" aria-controls="tabPanel-4" aria-selected="false" tabindex="-1">Appointment Booking
              </button>
            </div>
            <div class="tab-panels p-5">
              <div class="text-sm text-gray-500" id="tabPanel-1" role="tabpanel" tabindex="0" aria-labelledby="tab-1">
                <p>My intro video and some curratedfalse content</p>
              </div>
              <div class="text-sm text-gray-500" id="tabPanel-2" hidden role="tabpanel" tabindex="0" aria-labelledby="tab-2">
                <p>My hundreds of videos, all right here</p>
              </div>
              <div class="text-sm text-gray-500" id="tabPanel-3" hidden role="tabpanel" tabindex="0" aria-labelledby="tab-3">
                <p>A lot of content, all under 60 seconds</p>
              </div>
              <div class="text-sm text-gray-500" id="tabPanel-4" hidden role="tabpanel" tabindex="0" aria-labelledby="tab-4">
                <p>content all under</p>
              </div>
            </div>
          </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.4/flowbite.min.js"></script>
    <script>
        const tabsContainer = document.querySelector("[role=tablist]");
        const tabButtons = tabsContainer.querySelectorAll("[role=tab]");
        const tabPanels = document.querySelectorAll("[role=tabpanel]");

        tabsContainer.addEventListener("click", (e) => {
        const clickedTab = e.target.closest("button");
        const currentTab = tabsContainer.querySelector('[aria-selected="true"]');

        if (!clickedTab || clickedTab === currentTab) return;

        switchTab(clickedTab);
        });

        tabsContainer.addEventListener("keydown", (e) => {
        switch (e.key) {
            case "ArrowLeft":
            moveLeft();
            break;
            case "ArrowRight":
            moveRight();
            break;
            case "Home":
            e.preventDefault();
            switchTab(tabButtons[0]);
            break;
            case "End":
            e.preventDefault();
            switchTab(tabButtons[tabButtons.length - 1]);
            break;
        }
        });

        function moveLeft() {
        const currentTab = document.activeElement;

        if (!currentTab.previousElementSibling) {
            tabButtons.item(tabButtons.length - 1).focus();
        } else {
            currentTab.previousElementSibling.focus();
        }
        }

        function moveRight() {
        const currentTab = document.activeElement;
        if (!currentTab.nextElementSibling) {
            tabButtons.item(0).focus();
        } else {
            currentTab.nextElementSibling.focus();
        }
        }

        function switchTab(newTab) {
        const oldTab = tabsContainer.querySelector('[aria-selected="true"]');
        const activePanelId = newTab.getAttribute("aria-controls");
        const activePanel = tabsContainer.nextElementSibling.querySelector(
            "#" + CSS.escape(activePanelId)
        );
        tabButtons.forEach((button) => {
            button.setAttribute("aria-selected", false);
            button.setAttribute("tabindex", "-1");
        });

        tabPanels.forEach((panel) => {
            panel.setAttribute("hidden", true);
        });

        activePanel.removeAttribute("hidden", false);

        newTab.setAttribute("aria-selected", true);
        newTab.setAttribute("tabindex", "0");
        newTab.focus();
        moveIndicator(oldTab, newTab);
        }

        // move underline indicator
        function moveIndicator(oldTab, newTab) {
        const newTabPosition = oldTab.compareDocumentPosition(newTab);
        const newTabWidth = newTab.offsetWidth / tabsContainer.offsetWidth;
        let transitionWidth;

        // if the new tab is to the right
        if (newTabPosition === 4) {
            transitionWidth =
            newTab.offsetLeft + newTab.offsetWidth - oldTab.offsetLeft;
        } else {
            // if the tab is to the left
            transitionWidth =
            oldTab.offsetLeft + oldTab.offsetWidth - newTab.offsetLeft;
            tabsContainer.style.setProperty("--_left", newTab.offsetLeft + "px");
        }

        tabsContainer.style.setProperty(
            "--_width",
            transitionWidth / tabsContainer.offsetWidth
        );

        setTimeout(() => {
            tabsContainer.style.setProperty("--_left", newTab.offsetLeft + "px");
            tabsContainer.style.setProperty("--_width", newTabWidth);
        }, 220);
        }

    </script>

</body>
</html>